RewriteEngine On

# Force /get/ routes through index.php (domain check happens there)
RewriteRule ^get(/.*)?$ index.php [QSA,L]

# Redirect to login if accessing auth endpoints
RewriteCond %{REQUEST_URI} ^/auth/login$
RewriteRule ^auth/login$ public/auth/login.php [L]

RewriteCond %{REQUEST_URI} ^/auth/logout$
RewriteRule ^auth/logout$ public/auth/logout.php [L]

# Redirect to login page
RewriteCond %{REQUEST_URI} ^/login$
RewriteRule ^login$ public/login.php [L]

# Redirect all other requests to index.php if the file doesn't exist
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [QSA,L]
